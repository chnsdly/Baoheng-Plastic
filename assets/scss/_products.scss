/* 产品列表页（BEM 规范） */
.product-list {
  padding-block: space(4) space(6);

  &__container {
    display: grid;
    gap: space(3);
  }

  &__header {
    display: grid;
    gap: space(1.5);
    max-width: min(100%, var(--container-narrow));
  }

  &__title {
    margin: 0;
    font-size: var(--fs-4);
    color: var(--on-surface);
  }

  &__intro {
    color: var(--muted);
    font-size: var(--fs-2);
  }

  &__grid {
    display: grid;
    gap: space(2);
  }

  &__card {
    background: var(--card);
    border-radius: var(--radius);
    border: var(--border-w) solid color-mix(in srgb, var(--border) 55%, transparent);
    box-shadow: none;
    overflow: hidden;
    transition:
      transform var(--t-normal) var(--ease),
      box-shadow var(--t-normal) var(--ease),
      border-color var(--t-normal) var(--ease);
  }

  &__link {
    display: flex;
    flex-direction: column;
    min-block-size: 100%;
    color: inherit;
    text-decoration: none;
  }

  &__media {
    margin: 0;
    position: relative;
    overflow: hidden;
    aspect-ratio: 4 / 3;
    background: var(--surface);
  }

  &__image {
    inline-size: 100%;
    block-size: 100%;
    object-fit: cover;
    transition: transform var(--t-normal) var(--ease);
  }

  &__body {
    display: grid;
    gap: space(1);
    padding: space(2);
  }

  &__name {
    margin: 0;
    font-size: var(--fs-2);
    color: var(--on-surface);
  }

  &__summary {
    margin: 0;
    color: var(--muted);
    font-size: var(--fs-1);
  }

  &__meta {
    margin: 0;
    display: inline-flex;
    align-items: center;
    gap: space(.5);
    font-size: var(--fs-xs);
    color: var(--on-surface);
  }

  &__meta-label {
    font-weight: 600;
  }

  &__meta-value {
    color: var(--muted);
  }

  &__pagination {
    display: flex;
    align-items: center;
    gap: space(1);
    flex-wrap: wrap;
    margin-block-start: space(4);
  }

  &__pagination-list {
    display: flex;
    gap: space(.7);
    list-style: none;
    padding: 0;
    margin: 0;
  }

  &__pagination-item {
    display: flex;
  }

  &__pagination-button,
  &__pagination-page {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-inline-size: 44px;
    min-block-size: 44px;
    padding: space(.7) space(1.2);
    border-radius: var(--radius);
    border: var(--border-w) solid var(--border);
    background: var(--surface);
    color: var(--on-surface);
    font-size: var(--fs-1);
    text-decoration: none;
    transition:
      background-color var(--t-normal) var(--ease),
      color var(--t-normal) var(--ease),
      transform var(--t-fast) var(--ease),
      box-shadow var(--t-normal) var(--ease);
  }

  &__pagination-button:hover,
  &__pagination-page:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow);
  }

  &__pagination-button:focus-visible,
  &__pagination-page:focus-visible {
    @include focus-ring();
  }

  &__pagination-button--disabled {
    opacity: .5;
    pointer-events: none;
  }

  &__pagination-page--current {
    background: var(--brand);
    color: var(--on-brand);
    border-color: transparent;
  }

  @include mq-up(sm) {
    &__grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @include mq-up(lg) {
    &__grid {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }

  &__card:hover .product-list__image,
  &__card:focus-within .product-list__image {
    transform: scale(1.02);
  }

  &__card:hover,
  &__card:focus-within {
    transform: translateY(-2px);
    border-color: var(--brand);
    box-shadow: var(--shadow);
  }
}

/* 兼容主页精选区块使用的旧类名（保持原有样式） */
.product-grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: space(2);
  margin-block-start: space(2);
}

.product-card{
  background: var(--card);
  color: var(--on-surface);
  overflow: hidden;
  transition: transform var(--t-normal) var(--ease),
              box-shadow var(--t-normal) var(--ease);
}

.product-card a{
  display: block;
  color: inherit;
  text-decoration: none;
  padding-block-end: space(1.5);
}

.product-card :is(picture, img){
  display: block;
  inline-size: 100%;
  aspect-ratio: 4 / 3;
  object-fit: cover;
}

.product-card h3{
  margin-block: space(1.2) space(.5);
  font-size: var(--fs-1);
}

.product-card .muted{
  margin-block: 0 space(.5);
  color: var(--muted);
  font-size: .95rem;
}

.product-card .sku{
  margin-block: 0;
  color: var(--on-surface);
  font-size: .9rem;
}

.product-card:hover,
.product-card:focus-within{
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

/* ------------------------A11y 分页（tokenized）--------------------- */
.pager{
  display:flex;
  align-items:center;
  gap: space(1);
  flex-wrap:wrap;
}

.pager a,
.pager span{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-inline-size:44px;
  min-block-size:44px;
  padding: space(.7) space(1.2);
  border: var(--border-w) solid var(--border);
  border-radius: var(--radius);
  background: var(--surface);
  color: var(--on-surface);
  text-decoration:none;
  transition:
    background-color var(--t-normal) var(--ease),
    color var(--t-normal) var(--ease),
    border-color var(--t-normal) var(--ease),
    transform var(--t-fast) var(--ease);
}

.pager a:hover{
  transform: translateY(-1px);
  box-shadow: var(--shadow);
}

.pager a:focus-visible{ @include focus-ring(); }

.pager .pager-list{
  display:flex;
  gap: space(.7);
  list-style:none;
  margin: 0 space(1);
  padding: 0;
}

.pager .pager-num.current{
  background: var(--brand);
  color: var(--on-brand);
  border-color: transparent;
}

.pager .disabled,
.pager [aria-disabled="true"]{
  opacity:.5;
  pointer-events:none;
}

/* --------------------------------------产品详情布局---------------------------------- */
.product-detail .product-hero .lead{
  color: var(--muted);
}
.product-layout{
  display: grid;
  grid-template-columns: 1.4fr .9fr;
  gap: space(2.5);
  margin: space(2) 0 space(3);
}
@media (max-width: 56.25rem){
  .product-layout{ grid-template-columns: 1fr; }
}

.product-gallery img{
  width: 100%;
  height: auto;
}

.card{
  background: var(--on-brand);
  padding: space(2);
}

.spec-list{
  list-style: none;
  padding: 0;
  margin: 0;
}
.spec-list li{
  padding: space(.7) 0;
  border-bottom: var(--border-w) dashed var(--border);
}
.spec-list li:last-child{
  border-bottom: 0;
}
